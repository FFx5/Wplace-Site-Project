<html>
  <head>
    <meta charset="UTF-8" />
    <title>GensokyoDwellers</title>

    <!-- PyScript setup -->
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>

    <style>
      /* Flex container for side images + main box */
      .flex-container {
        display: flex;
        justify-content: center;
        align-items: flex-start; /* top-align images and box */
        flex-wrap: wrap;         /* allows wrapping on narrow screens */
        gap: 20px;               /* space between items */
        padding: 20px;
      }

      .side-img {
        width: 200px;        /* adjust size as needed */
        max-width: 100%;     /* shrink on small screens */
      }

      .main-box {
        position: relative;
        background-image: url('yuyuko dies.png');
        background-repeat: no-repeat;
        background-size: 100% 100%;
        background-position: top center;
        padding: 175px 100px;
        border-radius: 15px;
        text-align: center;
        width: 600px;
        max-width: 100%;    /* make responsive */
      }

      .overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255, 0.4);
        border-radius: 15px;
        z-index: 1;
      }

      .content {
        position: relative;
        z-index: 2;
      }

      /* Stack images vertically on narrow screens */
      @media (max-width: 800px) {
        .flex-container {
          flex-direction: column;
          align-items: center;
        }
      }

      /* Touhou game styling */
      #touhou-game {
        margin: 50px auto;
        text-align: center;
        color: white;
      }
      #user-input {
        padding: 5px;
        margin-top: 10px;
      }
      #submit-btn, #start-btn {
        margin: 10px;
        padding: 5px 15px;
        border-radius: 5px;
        cursor: pointer;
      }
    </style>
  </head>
  <body style="background-color: rgb(0, 0, 0);">
    <div class="flex-container">
      <img src="satori fumo.png" style="width: 360px" class="side-img">
      <div class="main-box">
        <div class="overlay"></div>
        <div class="content">
          <div>
            <a href="https://wplace.live/join?id=0198e987-760e-78b7-a2c1-d77feacc69ad" target="_blank" style="font-family: Arial; font-size: 36px; color: blue;">
              Join the GensokyoDwellers Alliance
            </a>
          </div>
          <div style="margin-top: 50px;">
            <a style="font-family: Arial; font-size: 17px; color: black;">
              pretty please...
            </a>
          </div>
          <div style="margin-top: 100px;">
            <a style="font-family: Arial; font-size: 24px; color: red; text-shadow: 
                                                                        -1px -1px 0 white,  
                                                                         1px -1px 0 white,
                                                                        -1px  1px 0 white,
                                                                         1px  1px 0 white;">
              If you have to sign in after clicking the link, then you will have to sign in and come back here and click it again. 
              Currently, for some reason, it always says it is invalid right after signing in.
            </a>
          </div>
        </div>
      </div>
      <img src="koishi fumo.png" style="width: 300px" class="side-img">
    </div>

    <!-- Touhou guessing game section -->
    <div id="touhou-game">
      <h2>Guess the 2hu!</h2>
      <div id="game-output">Press "Start" to begin.</div>
      <input type="text" id="user-input" placeholder="Enter your guess" />
      <button py-click="submit_guess">Submit</button>
      <button py-click="start_game">Start</button>
    </div>

    <!-- Load the Python game logic -->
    <py-script src="touhou_web.py"></py-script>
  </body>
</html>
